@import 'tailwindcss';
@plugin '@tailwindcss/forms';
@plugin '@tailwindcss/typography';

/* Global Dark Theme Styles */
body {
  @apply bg-black text-gray-200;
}

/* Frosted Glass Utility Classes - Using inline classes */

/* Custom Button Styles */
.btn-primary {
  @apply px-6 py-2.5 rounded-lg font-medium text-white transition-all duration-200;
  @apply bg-purple-700;
  @apply hover:bg-purple-600 hover:shadow-lg hover:shadow-purple-500/50;
  @apply hover:scale-[1.02] active:scale-[0.98];
  @apply focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-black;
}

.btn-primary:disabled {
  @apply opacity-50 cursor-not-allowed;
}

.btn-secondary {
  @apply px-4 py-2 rounded-lg font-medium transition-all duration-200;
  @apply bg-black/40 text-gray-200 border border-white/20;
  @apply hover:bg-black/60 hover:border-white/30;
  @apply hover:text-white hover:scale-[1.02] active:scale-[0.98];
  @apply focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-black;
}

.btn-sm {
  @apply px-2 py-1 text-sm rounded-lg font-medium transition-all duration-300;
  @apply bg-white/10 text-gray-200 border border-white/20;
  @apply hover:bg-white/20 hover:border-white/30;
  @apply hover:text-white;
}

.btn-danger {
  @apply px-4 py-2 rounded-lg font-medium transition-all duration-300;
  @apply bg-red-600 text-white;
  @apply hover:bg-red-500 hover:shadow-lg hover:shadow-red-500/50;
}

.btn-accent {
  @apply px-4 py-2 rounded-lg font-medium text-white transition-all duration-300;
  @apply bg-purple-700;
  @apply hover:bg-purple-600;
  @apply hover:shadow-lg hover:shadow-purple-500/50;
}

.btn-ghost {
  @apply px-4 py-2 rounded-lg font-medium transition-all duration-300;
  @apply text-gray-400 hover:text-white hover:bg-white/5;
}

/* Input Styles - Less frosted, more solid */
.input-dark {
  @apply w-full px-4 py-2.5 rounded-lg transition-all duration-200;
  @apply bg-black/60 border border-white/15 text-gray-200;
  @apply placeholder:text-gray-500;
  @apply focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50;
  @apply hover:border-white/25;
}

.input-dark:disabled {
  @apply opacity-50 cursor-not-allowed;
}

/* Date input styling for dark theme */
input[type="date"].date-input {
  color-scheme: dark;
}

/* Hide native calendar picker indicator when using custom icon */
input[type="date"].date-input::-webkit-calendar-picker-indicator {
  opacity: 0;
  cursor: pointer;
  width: 0;
  height: 0;
}

/* Select Styles */
.select-dark {
  @apply w-full px-4 py-2 rounded-lg transition-all duration-300;
  @apply bg-black/50 border border-white/10 text-gray-200;
  @apply focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent;
  @apply hover:border-white/20;
}

.select-dark:disabled {
  @apply opacity-50 cursor-not-allowed;
}

/* Card Styles - Sleeker, less frosted */
.card-dark {
  @apply bg-black/40 border border-white/10 rounded-lg shadow-lg p-4;
  @apply transition-all duration-200;
}

/* Advanced Settings Panel - Compact and sleek */
.advanced-settings {
  @apply bg-black/30 border border-white/10 rounded-lg p-4 space-y-4;
  @apply transition-all duration-200;
}

/* Remove default summary arrow */
details summary {
  list-style: none;
}

details summary::-webkit-details-marker {
  display: none;
}

/* Smooth expand/collapse animation */
details[open] summary {
  margin-bottom: 1rem;
}

details summary {
  @apply transition-all duration-200;
}

details[open] .advanced-settings {
  animation: slideDown 0.2s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Smooth fade-in animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

/* Subtle hover lift effect */
.hover-lift {
  @apply transition-all duration-200;
}

.hover-lift:hover {
  transform: translateY(-2px);
  @apply shadow-xl;
}

/* Gradient card hover effect */
.gradient-card {
  @apply transition-all duration-300;
}

.gradient-card:hover {
  transform: translateY(-2px);
  @apply shadow-xl;
  border-color: rgba(139, 92, 246, 0.4);
}

/* Template Card with Enhanced Glass Morphism and Gradient Accents */
.template-card {
  @apply bg-white/[0.03] backdrop-blur-xl border border-white/10 rounded-2xl p-6;
  @apply hover:border-purple-500/60 transition-all duration-300;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.03) 0%, rgba(139, 92, 246, 0.05) 100%);
  position: relative;
  /* Ensure card content doesn't clip on transform */
  will-change: transform;
  overflow: visible;
  /* Add horizontal margin for 3D transform overflow, but let parent control vertical spacing */
  margin-left: 8px;
  margin-right: 8px;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

/* View container */
.view-container {
  position: relative;
  min-height: 200px;
}

.template-card::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.6), rgba(59, 130, 246, 0.6));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.template-card:hover::before {
  opacity: 1;
}

/* Custom Scrollbar Styling - Black Glassy Design */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: rgba(139, 92, 246, 0.4) rgba(0, 0, 0, 0.3);
}

/* Hide scrollbars for kanban containers */
.kanban-container::-webkit-scrollbar {
	display: none !important;
}

.kanban-container {
	scrollbar-width: none !important;
	-ms-overflow-style: none !important;
}

/* Hide scrollbars for kanban headers container (has custom scrollbar) */
.kanban-headers-container::-webkit-scrollbar {
	display: none !important;
}

.kanban-headers-container {
	scrollbar-width: none !important;
	-ms-overflow-style: none !important;
}

/* Ensure no scrollbars appear in kanban columns */
.kanban-container .space-y-3,
.kanban-container .space-y-5 {
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

.kanban-container .space-y-3::-webkit-scrollbar,
.kanban-container .space-y-5::-webkit-scrollbar {
  display: none !important;
}

/* Prevent clipping of 3D transformed cards */
/* Add padding to containers that hold cards to allow transform overflow */
.view-container {
  /* Allow transform overflow without breaking scroll */
  padding: 8px;
}

/* Grid view specific - prevent nested scrollbars */
.space-y-6.view-container {
  /* Only the main container should scroll */
  overflow-y: auto;
  overflow-x: hidden;
}

/* Prevent scrollbars in grid sections */
.space-y-6 > div > .grid {
  overflow: visible;
}

/* Hide scrollbars on grid sections themselves */
.space-y-6 > div {
  overflow: visible;
}

/* Ensure card containers don't clip transforms - use a wrapper approach */
.template-card {
  /* Card itself should have overflow visible for transforms */
  overflow: visible;
}

/* Grid and Kanban column wrappers should allow overflow */
.grid {
  /* Allow transforms to extend beyond boundaries */
  overflow: visible;
}

/* Kanban columns need proper height for scrolling */
.flex-shrink-0.w-80 {
  align-items: stretch;
}

.flex-shrink-0.w-80 > .space-y-3,
.flex-shrink-0.w-80 > .space-y-5 {
  /* This is the scrollable area - allow overflow for transforms but enable scrolling */
  overflow-x: visible;
  overflow-y: auto;
}

/* Webkit Scrollbar Styling */
.scrollbar-thin::-webkit-scrollbar {
  height: 10px;
  width: 10px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(10px);
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.4), rgba(139, 92, 246, 0.6));
  backdrop-filter: blur(10px);
  border-radius: 10px;
  border: 1px solid rgba(139, 92, 246, 0.2);
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.6), rgba(139, 92, 246, 0.8));
  border-color: rgba(139, 92, 246, 0.4);
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
}

.scrollbar-thin::-webkit-scrollbar-thumb:active {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.7), rgba(139, 92, 246, 0.9));
}

/* Global scrollbar styling for all elements */
::-webkit-scrollbar {
  height: 10px;
  width: 10px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(10px);
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.4), rgba(139, 92, 246, 0.6));
  backdrop-filter: blur(10px);
  border-radius: 10px;
  border: 1px solid rgba(139, 92, 246, 0.2);
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.6), rgba(139, 92, 246, 0.8));
  border-color: rgba(139, 92, 246, 0.4);
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
}

::-webkit-scrollbar-thumb:active {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.7), rgba(139, 92, 246, 0.9));
}

/* Firefox scrollbar styling */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(139, 92, 246, 0.4) rgba(0, 0, 0, 0.3);
}

/* Response Container */
.response-container {
  @apply bg-white/10 backdrop-blur-2xl rounded-xl p-6 border border-white/20;
  @apply shadow-[0_8px_32px_rgba(139,92,246,0.1)];
}

/* Loading Animation */
@keyframes pulse-glow {
  0%, 100% {
    opacity: 1;
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
  }
  50% {
    opacity: 0.6;
    box-shadow: 0 0 30px rgba(139, 92, 246, 0.8);
  }
}

.pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

/* Glow Text Effect */
.glow-text {
  text-shadow: 0 0 10px rgba(139, 92, 246, 0.5);
}

/* Markdown Styles - Dark Theme */
.prose {
  @apply text-gray-300;
}

.prose pre {
  @apply bg-black/50 rounded-lg p-4 overflow-x-auto border border-white/10;
}

.prose code {
  @apply bg-black/50 px-1.5 py-0.5 rounded text-sm font-mono text-purple-400;
}

.prose pre code {
  @apply bg-transparent p-0 text-gray-300;
}

.prose h1, .prose h2, .prose h3 {
  @apply text-white font-bold;
}

.prose strong {
  @apply text-white font-semibold;
}

.prose ul, .prose ol {
  @apply my-4;
}

.prose li {
  @apply my-2;
}

.prose a {
  @apply text-blue-400 hover:text-blue-300;
}

.prose ins {
  @apply no-underline;
  text-decoration: none;
}

.prose del {
  @apply line-through;
}

/* Tab Navigation Styles */
.tab-nav {
  @apply inline-flex rounded-lg border border-white/20 bg-white/5 backdrop-blur-xl p-1;
}

.tab-button {
  @apply px-6 py-2 rounded-md font-medium transition-all duration-300;
}

.tab-active {
  @apply bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg shadow-purple-500/50;
}

.tab-inactive {
  @apply text-gray-400 hover:text-white hover:bg-white/5;
}
